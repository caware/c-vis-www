<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<title>Gates Building Energy Use</title>
<body>
<h1>Gates Building Energy Use</h1>

<table rows=2 cols=1><tr>
<td valign="top" style="width:10em; font-family: lucida, verdana, sans-serif; font-size : 12px; line-height: 130%;">
<p><a href="../index.html">Introduction</a></p>
<p><a target="_blank" href="http://www.cl.cam.ac.uk/meters/tools/wgb-vis/current/">Run Visualisation</a></p>
<p><a href="bugs.html">Bug Reports</a></p>
<p><a href="units.html">Units and Costs</a></p>
<p><b>Raw Data</b></p>
<p><a href="code.html">Demo Code</a></p>
<p><a href="ToDo.html">To Do List</a></p>
<p><a href="versions.html">Previous Versions</a></p>
</td>

<td valign="top" style="padding-left: 10px; border-left: 1px solid #a5a5a5;">

<h2>Raw Data</h2>

<p>The raw data used by the visualisation tool is directly available for download at <a href="http://www.cl.cam.ac.uk/meters/elec/">http://www.cl.cam.ac.uk/meters/elec/</a>.</p>

<h2>Directory Structure</h2>

<p>The data is organised in a structure which mimics the electricity distribution tree within the building. A given directory may have data files and/or subdirectories - for example:</p>

<p><b>"http://www.cl.cam.ac.uk/meters/elec/primary-cs1-riser/F-lighting/"</b></p>

<p>is a directory that contains the readings for the lighting circuit on the first floor that comes off the CS1 riser.</p>

<h2>File Names</h2>

<p>Currently there are 2 types of data files, one with 2 minute time series (one per day) and one with hourly time series (one per month):</p>

<ul>
<li><b>"S-m##-YYYY-MM-DD.json"</b> - 2 minute time series.</li>
<li><b>"S-m##-YYYY-MM.json"</b> - 1 hour time series.</li>
</ul>

<p>For example, <b>"S-m23-2011-05-01.json"</b> would be the 2 minute series of meter S-m23 for the 1st of May 2001, and <b>"S-m19-2011-07-22.json"</b> would be the 1 hour series of meter S-m19 on the 22nd of July 2011.</p>

<h2>Data Format</h2>

<p>The data files are in JavaScript Object Notation (<a href="http://www.json.org/">JSON</a>). This
is so that the files can be easily manipulated in JavaScript - indeed our visualisation tools
are built on top of JavaScript packages that do most of the heavy lifting.  You can find demo code to help you get started if you want to perform any analysis
of the data <a href="code.html">here</a> (Or you can always look at the source of the tool itself - after all you download it when you run it...)</p>

<p>Each file contains key-value pairs for identifying the data. The "data" value is time series of energy readings from the meter, presented as an array of [time stamp, power] pairs.  The power is the average (in kilowatts) over the
interval for the time stamp. The timestamps are milliseconds since the unix epoch (1 Jan 1970).</p>

<p>More keys will be added in the future.  Current keys include:</p>

<ul>
<li><b>"data"</b> - 2D Array containing Integer timestamps and Floating Point power measurements in the form <b>[[TIMESTAMP, POWER],[TIMESTAMP, POWER]]</b>.</li>
<li><b>"coverage"</b> - String containing information of the coverage of the meter.</li>
<li><b>"label"</b> - String identifying the meter number, and the month and year for the file in the form <b>"## YYYY-MM"</b>.</li>
<li><b>"path"</b> - String identifying the directory to which the data file belongs.</li>
<li><b>"description"</b> - String containing information of what the electricity is used for, e.g. lighting, sockets, air conditioning..</li>
<li><b>"room"</b> - String of the meter location.</li>
<li><b>"type"</b> - String identifying the type of meter from which the data was obtained.</li>
<li><b>"ts"</b> - String identifying the month and year for the file in the form <b>"YYYY-MM"</b>.</li>
</ul>

<p>We frequently regenerate the published data from the <i>real</i> raw data so new keys
will be added to old time series, (and old ones may disappear - although at some point
we will commit to backwards compatibility)</p>

</td></tr></table>
</body>

